<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<meta name="viewport" content="width=device-width,height=device-height,user-scalable=no" /> 
	<title>Document</title>
	<script src="json2.js"></script>
	<script>
	//触发历史管理：1，通过跳转页面 2.hash 3.pushstate
	window.onload = function(){
		var oInput = document.getElementById('input1');
		var oDiv = document.getElementById('div1');
		var json = {}
		oInput.onclick = function(){
			var num = Math.random()
			var arr = randomNum(35,7);
			oDiv.innerHTML = arr;
			json[num] = arr;

			window.location.hash = num;

		}

		window.onhashchange = function(){
			oDiv.innerHTML = json[window.location.hash.substring(1)]
		}

		function randomNum(iAll,iNow){
			var arr = [];
			var newArr = [];
			for(var i=0;i<iAll;i++){
				arr.push(i)
			}
			//oDiv.innerHTML = arr;
			// newArr.push(arr.splice(0,5))
			// oDiv.innerHTML = newArr
			
			for(var i=0;i<iNow;i++){
				newArr.push(arr.splice(Math.floor(Math.random()*arr.length),1));
				oDiv.innerHTML = newArr

			}
			return newArr;
		}
	}
	</script>
</head>
<body>
<!-- <div id="div1" data-miaov="妙味" data-miaov-all="传智播客">你好吗你好吗你好吗</div> -->

<input type="button" value="随机数组" id="input1" />
<div id="div1"></div>
</body>
</html>