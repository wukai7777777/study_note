<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en">
<head>
	<meta http-equiv="Content-Type" content="text/html;charset=UTF-8">
	<meta name="viewport" content="width=device-width,height=device-height,user-scalable=no" /> 
	<title>Document</title>
	<style>
	
	
	</style>
	
	<script>
	// setTimeout(function(){
	// 	alert(123);
	// }, 1000);
	// alert(3)
	
	// function show(time,fn){
	// 	setTimeout(function(){
	// 		console.log(time+'秒后');
	// 		fn();
	// 	}, time*1000);
	// }


	// show(1, function(){
	// 	console.log('操作1');
	// 	show(2, function(){
	// 		console.log('操作2');
	// 		show(3, function(){
	// 			console.log('操作3');
	// 		});
	// 	});
	// });
	
	// function show(time){
	// 	var promise = new Promise(function(resolve){
	// 		setTimeout(function(){
	// 			console.log(time+'秒后');
	// 			resolve();
	// 		}, time*1000);
	// 	});

	// 	return promise;
		
	// };

	// show(1).then(function(){
	// 	console.log('成功1');
	// 	return show(1);
	// }).then(function(){
	// 	console.log('成功2');
	// 	return show(1);
	// }).then(function(){
	// 	console.log('成功3');
	// })
	



	// function show1(){
	// 	var promise = new Promise(function(resolve,reject){
	// 		setTimeout(function(){
	// 			console.log('1秒后');
	// 			resolve();
	// 		}, 1000);
	// 	});
	// 	return promise;
	// };

	// function show2(){
	// 	var promise = new Promise(function(resolve,reject){
	// 		setTimeout(function(){
	// 			console.log('2秒后');
	// 			reject();
	// 		}, 2000);
	// 	});
	// 	return promise;
	// };

	// function show3(){
	// 	var promise = new Promise(function(resolve,reject){
	// 		setTimeout(function(){
	// 			console.log('3秒后');
	// 			resolve();
	// 		}, 3000);
	// 	});
	// 	return promise;
	// };

	// var p = Promise.race([show1(),show2(),show3()]);

	// p.then(function(){
	// 	console.log('只要有一个成功状态就触发');
	// }, function(){
	// 	console.log('只要有一个就会走');
	// });
	

	
	function show1(){
		var promise = new Promise(function(resolve,reject){
			setTimeout(function(){
				var dfd = $.Deferred();
				console.log('第一个');
				dfd.reject();
			}, 2000);
		});
		return dfd;
	};

	function show2(){
		var promise = new Promise(function(resolve,reject){
			setTimeout(function(){
				var  dfd = $.Deferred();
				console.log('第二个');
				dfd.reject();
			}, 5000);
		});
		return dfd;
	};

	$.when(show1() , show2()).then(function(){
		console.log('全部成功才触发');
	});
	

	</script>
</head>
<body>
<div></div>
</body>
</html>